<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estilosIndex.css') }}"/>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <title>Tienda de Computación</title>
    <script>
      function editUser(id, name, email) {
          document.getElementById('edit-id').value = id;
          document.getElementById('edit-nombre').value = name;
          document.getElementById('edit-email').value = email;
          document.getElementById('edit-form').style.display = 'block';
      }
  </script>
  </head>
  <body>
    <header class="header">
      <img src="{{ url_for('static', filename='img/TienditaGamer.webp') }}" alt="TienditaGamer" class="logo" />
      <button id="abrir" class="abrir-menu"><i class="bi bi-list"></i></button>
      <nav class="nav" id="nav">
        <button class="cerrar-menu" id="cerrar"><i class="bi bi-x"></i></button>
        <ul class="nav-list">
          <li><a href="{{ url_for('home') }}">Inicio</a></li>
          <li>
            <a href="{{ url_for('productos') }}">Productos</a>
          </li>
          <li>
            <a href="{{ url_for('contacto') }}">Contacto</a>
          </li>
          <li>
            <a href="{{ url_for('inicioSesion') }}">Usuario</a>
          </li>
        </ul>
      </nav>
    </header>
    <main>
      <h3>Resultados de la Búsqueda</h3>
      {% if resultados %}
      <table border="1">
          <tr>
              <th>Nombre</th>
              <th>Correo Electrónico</th>
              <th>Número de Teléfono</th>
              <th>Mensaje</th>
              <th>Acciones</th>
          </tr>
          {% for resultado in resultados %}
          <tr>
              <form action="{{ url_for('modificar_usuario', email=resultado['email']) }}" method="post">
                  <td><input type="text" name="nombre" value="{{ resultado['nombre'] }}" required></td>
                  <td>{{ resultado['email'] }}</td>
                  <td><input type="tel" name="numeroTelefono" value="{{ resultado['numeroTelefono'] }}" required></td>
                  <td><textarea name="mensaje" required>{{ resultado['mensaje'] }}</textarea></td>
                  <td>
                      <button type="submit">Modificar</button>
                      <form action="{{ url_for('eliminar_usuario', email=resultado['email']) }}" method="post" style="display:inline;">
                          <button type="submit">Eliminar</button>
                      </form>
                  </td>
              </form>
          </tr>
          {% endfor %}
      </table>
      {% else %}
      <p>No se encontraron resultados.</p>
      {% endif %}
      <div class="box">
          <h2>SOBRE NOSOTROS</h2>
          <p>
            Somos una empresa que se dedica a vender componentes de hardware, en
            la cual nuestro objetivo es ser una alternativa para aquellos que
            busquen componentes de manera local a buen precio y no quieran pagar
            mas de lo que costaria si lo buscaran en otros lados
          </p>
        </div>
      </div>
      <div class="grupo-2">
        <small
          >&copy; 2024 <b>TienditaGamer</b> - Todos los Derechos
          Reservados.</small
        >
      </div>
    </footer>
  </body>
</html>
